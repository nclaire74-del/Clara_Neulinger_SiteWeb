<!DOCTYPE html>
<meta name="viewport" content="user-scalable=0"/>
<html>
<head>
    <title>Circus_Viewer</title>
    <script src="https://viewer.marmoset.co/main/marmoset.js"></script>
    <style>
        * {
            background-color: rgb(42, 42, 42) !important;
            box-shadow: none !important;
        }
        
        body {
            background-color: rgb(42, 42, 42) !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
        canvas {
            background-color: transparent !important;
        }
    </style>
</head>
<body>
    <script>
        // Modifier le prototype de marmoset avant l'embedding
        if (window.marmoset) {
            const originalEmbed = marmoset.embed;
            marmoset.embed = function(file, options) {
                // Ajouter des options pour forcer le style
                options = options || {};
                options.backgroundColor = 'rgb(42, 42, 42)';
                options.transparentBackground = false;
                
                // Appeler la fonction originale
                const result = originalEmbed.call(this, file, options);
                
                // Forcer les styles aprÃ¨s l'embedding
                setTimeout(() => {
                    document.querySelectorAll('div').forEach(div => {
                        div.style.backgroundColor = 'rgb(42, 42, 42)';
                        div.style.boxShadow = 'none';
                    });
                    
                    // Appliquer un style global sur le document
                    const style = document.createElement('style');
                    style.innerHTML = `
                        * { 
                            background-color: rgb(42, 42, 42) !important; 
                            box-shadow: none !important; 
                        }
                        canvas { 
                            background-color: transparent !important; 
                        }
                    `;
                    document.head.appendChild(style);
                }, 100);
                
                return result;
            };
        }
        
        marmoset.embed( 'Circus_Viewer.mview', { 
            width: 800, 
            height: 600, 
            autoStart: true, 
            fullFrame: false, 
            pagePreset: true,
            backgroundColor: 'rgb(42, 42, 42)'
        });
    </script>
</body>
</html>
